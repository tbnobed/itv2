# OBTV Streaming Platform - Docker Environment Configuration
# Copy this file to .env and update with your production values

# Database Configuration
POSTGRES_PASSWORD=obtv_secure_password_change_this

# Application Security
SESSION_SECRET=your_secure_session_secret_change_this_in_production
PASSCODE_PEPPER=obtv-universal-pepper-change-in-production

# Default User Credentials (Change in Production!)
ADMIN_PASSCODE=1234
USER_PASSCODE=1111

# SRS Server Configuration for Snapshot Generation
# Examples for different environments:

# Local development (SRS on host machine)
# SRS_HTTP_FLV_BASE=http://host.docker.internal:8080

# Production (external SRS server)
# SRS_HTTP_FLV_BASE=http://cdn2.obedtv.live:8080
# SRS_HTTP_FLV_BASE=https://srs.yourdomain.com:8080

# Multiple SRS servers (will auto-detect from WHEP URLs)
# Just set one as fallback, the system will parse server URLs from your streams
SRS_HTTP_FLV_BASE=http://cdn2.obedtv.live:8080

# Force HTTPS for HTTP-FLV connections (optional)
SRS_FORCE_HTTPS=false

# HLS Stream Configuration - Optimized for Docker Production
# FFmpeg timeout for HLS stream connections (seconds) - increased for Docker networking
HLS_CONNECTION_TIMEOUT=15
# Maximum retry attempts for failed HLS snapshots
HLS_MAX_RETRIES=5
# Snapshot generation interval (seconds) - reduced for more frequent updates
SNAPSHOT_INTERVAL=25

# FFmpeg Configuration for HLS Processing in Docker
FFMPEG_LOGLEVEL=error

# Network Timeouts - Optimized for containerized environment (seconds)
HTTP_TIMEOUT=20

# Development Mode Override (uncomment for local development)
# NODE_ENV=development